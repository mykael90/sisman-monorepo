// This file is reserved for Prisma models related to SIPAC (Sistema Integrado de Patrimônio, Administração e Contratos) integration.
// Models defined here will handle data structures specific to SIPAC, if and when integration is implemented.

// Represents material data from SIPAC.
model SipacMaterial {
    idMaterial               Int      @id // Identificador do material.
    ativo                    Boolean // Indica se o material está ativo.
    codigo                   String   @unique // Código do material.
    codigoSidec              String? // Código do material no sistema do governo SIDEC.
    consumoEnergia           Decimal? @db.Decimal(12, 4) // Consumo de energia.
    dataUltimaCompra         DateTime @db.Timestamp(0) // Data da última compra do material (timestamp).
    denominacaoGrupo         String? // Denominação do grupo do material.
    denominacaoMaterial      String // Denominação do material.
    denominacaoMaterialAscii String? // Denominação do material em ASCII.
    denominacaoSubGrupo      String? // Denominação do sub-grupo do material.
    denominacaoUnidade       String? // Denominação da unidade do material.
    especificacao            String? // Especificação do material.
    especificacaoAscii       String? // Especificação do material em ASCII.
    idGrupo                  Int? // Identificador do grupo do material.
    idSubGrupo               Int? // Identificador do sub-grupo do material.
    precoCompra              Decimal? @db.Decimal(12, 4) // Preço de compra do material.
    valorEstimado            Decimal? @db.Decimal(12, 4) // Valor estimado do material.

    createdAt DateTime @default(now()) @db.Timestamp(0)
    updatedAt DateTime @updatedAt @db.Timestamp(0)

    //Relations
    grupo    SipacGrupoMaterial?    @relation(fields: [idGrupo], references: [idGrupoMaterial])
    subGrupo SipacSubGrupoMaterial? @relation(fields: [idSubGrupo], references: [idSubGrupoMaterial])

    @@index([codigo])
    @@index([idGrupo])
    @@map("sipac_materiais")
}

// Representa um grupo de material do sistema.
model SipacGrupoMaterial {
    idGrupoMaterial   Int     @id // Identificador do grupo.
    ativo             Boolean // Indica se um grupo material está ativo ou não.
    codigo            BigInt  @unique // Código do grupo.
    denominacao       String // Nome do grupo.
    descricao         String? // Descrição detalhada do grupo de material.
    idElementoDespesa Int? // Identificador do elemento de despesa associado ao grupo de material.

    createdAt      DateTime                @default(now()) @db.Timestamp(0)
    updatedAt      DateTime                @updatedAt @db.Timestamp(0)
    sipacMateriais SipacMaterial[]
    subGrupos      SipacSubGrupoMaterial[]

    @@index([codigo])
    @@map("sipac_grupos_materiais")
}

// Representa um sub-grupo de material do sistema.
model SipacSubGrupoMaterial {
    idSubGrupoMaterial Int    @id // Identificador do subgrupo.
    codigo             BigInt @unique // Código identificador do subgrupo. Junção do código do grupo mais um sequencial.
    denominacao        String // Descrição resumida do subgrupo.
    idGrupoMaterial    Int // Identificador do grupo.

    createdAt          DateTime            @default(now()) @db.Timestamp(0)
    updatedAt          DateTime            @updatedAt @db.Timestamp(0)
    sipacMateriais     SipacMaterial[]
    SipacGrupoMaterial SipacGrupoMaterial? @relation(fields: [idGrupoMaterial], references: [idGrupoMaterial])

    @@index([codigo])
    @@index([idGrupoMaterial])
    @@map("sipac_sub_grupos_materiais")
}
